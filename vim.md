## VIM编辑器

### VIM使用

* vim操作

```
vim +n 文件
```

* vim设置

```
"nux 内核代码建议每个tab占用8列
set tabstop=4
"敲入tab键时实际占有的列数。
set softtabstop=4
"shiftwidth用于设置Tab键宽度
set shiftwidth=4
"expandtab用于将Tab转化为空格
set expandtab
"设置回车后自动缩进
set autoindent
set cindent
set cinoptions={0,1s,t0,n-2,p2s,(03s,=.5s,>1s,=1s,:1s
"nu用于显示行号
set nu
"ts用于设置tab键表示的空格数
set ts=4
"colorscheme用于选择配色方案 
colorscheme industry
"cursorline用于l显示行下划线
set cursorline
```

### 工作模式

* 命令模式

> 在任何模式下输入`Esc`键即可进入命令模式

* 文本输入模式

    * 在命令模式下,输入命令即可进入编辑模式

```
i  效果：插入光标前一个字符
I  效果：插入行首
a  效果：插入光标后一个字符
A  效果：插入行末
o  效果：向下新开一行
O  效果：向上新开一行
```

* 末行模式

> 在命令模式下，按下`:`键即可进入末行模式 

### 命令模式命令

1. 移动光标

```
h\j\k\l  效果：向左、下、上、右移动光标
0  效果：移动光标至行首
$  效果：移动光标至行未

w  效果：移动光标至下个词首
b  效果：移动光标至上个词首
{  效果：移动光标至上一段段首
}  效果：移动光标至下一段段首

行号 gg  效果：移动光标至指定行行首
行号 G  效果：同上
gg  效果：移动光标至文本开头
G  效果：移动光标至文本末尾

H  效果：移动光标至屏幕顶部
M  效果：移动光标至屏幕中部
L  效果：移动光标至屏幕末尾

Ctrl f  效果：向下翻一屏
Ctrl b  效果：向上翻一屏
Ctrl d  效果：向下翻半屏
Ctrl u  效果：向上翻半屏
```
2. 选中命令

```
v  效果：光标选中模式
V  效果：行选中模式
Ctrl v  效果：列选中模式
```

3. 复制、粘贴、剪切(剪切可以达到删除效果)

```
y 光标移动命令  效果：复制光标至光标目标位置
选中命令 y  效果：复制选中内容
yy  效果：复制当前行
p  效果：粘贴
x  效果：剪切（删除）当前字符
X  效果：剪切（删除）当前前一个字符
dd  效果：剪切（删除）当前行
d 光标移动命令  效果：剪切（删除）光标至光标目标位置
选中命令 d  效果：剪切（删除）选中内容
```

4. 查找与替换

```
/ str  效果：查找指定字符,n:下一个；N:上一个
r  效果：替换当前字符
R  效果：进入替换模式
```

5. 缩排

```
选中命令 >  效果：将选中区域缩进
选中命令 <  效果：将选中区域取消缩进
<<  效果：缩进当前行
>>  效果：取消缩进当前行
```

6. 其他操作

```
u  效果：撤销操作
Ctrl r  效果：反撤销
.  效果：重复上次命令
num 命令  效果：重复 num 次命令
```

### 末行命令

1. 文件操作

```
:w  效果：保存文件
:q  效果：退出文件
:!q  效果：强制退出
:wq  效果：退出并保存
:x  效果：同上
:e .  效果：文件浏览器
:n 文件名  效果：新建文件
:w 文件名  效果：另存为
```

2. 替换操作

```
:%s/str/str/g  效果：全局替换
:%s/str/str/gc  效果：有提示的全局替换
选中命令 :s/str/str/g  效果：局部替换
选中命令 :s/str/str/gc  效果：有提示的局部替换
:n, Ns/str/str/g  效果：替换 n-N 行
```

3. 分屏操作

```
:sp   效果：横向分屏，后面可接文件名和分屏数
:vsp  效果：竖向分屏，后面可接文件名和分屏数

Ctrl w ?  效果：在分屏模式中进行一个操作
w       ？可选值，效果：下一屏
r       ？可选值，效果：互换
c       ？可选值，效果：关闭当前分屏屏幕
q       ？可选值，效果：退出分屏
o       ？可选值，效果：关闭其他屏幕
```

4. shell命令

```
:! 命令  效果：在shell中执行命令
```

